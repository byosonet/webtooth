{% extends "home/body.html" %}

{% load static %}
{% block title %} Home | WebTooth {%endblock%}
{% block titlepage %}  {%endblock%}
{% block body %} 


<div class="row">

	<!-- Earnings (Monthly) Card Example -->
	<div class="col-xl-3 col-md-6 mb-4">
	  <div class="card border-left-{{request.session.bt_color}} shadow h-100 py-2">
	    <div class="card-body">
	      <div class="row no-gutters align-items-center">
	        <div class="col mr-2">
	          <div class="text-xs font-weight-bold text-{{request.session.bt_color}} text-uppercase mb-1">Pacientes registrados</div>
	          <div class="h5 mb-0 font-weight-bold text-gray-800">{{rowsRegister}}</div>
	        </div>
	        <div class="col-auto">
	          <i class="fas fa-address-card fa-2x text-{{request.session.bt_color}}"></i>
	        </div>
	      </div>
	    </div>
	  </div>
	</div>

	<!-- Earnings (Monthly) Card Example -->
	<!-- Pending Requests Card Example -->
	<div class="col-xl-3 col-md-6 mb-4">
		<div class="card border-left-success shadow h-100 py-2">
			<div class="card-body">
				<div class="row no-gutters align-items-center">
					<div class="col mr-2">
						<div class="text-xs font-weight-bold text-success text-uppercase mb-1">Pacientes Activos</div>
						<div class="h5 mb-0 font-weight-bold text-gray-800">{{patientActive}}</div>
					</div>
					<div class="col-auto">
						<i class="fas fa-stethoscope fa-2x text-success"></i>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Pending Requests Card Example -->
	<div class="col-xl-3 col-md-6 mb-4">
	  <div class="card border-left-warning shadow h-100 py-2">
	    <div class="card-body">
	      <div class="row no-gutters align-items-center">
	        <div class="col mr-2">
	          <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Pacientes Inactivos</div>
	          <div class="h5 mb-0 font-weight-bold text-gray-800">{{inactivePatients}}</div>
	        </div>
	        <div class="col-auto">
	          <i class="fas fa-user-times fa-2x text-warning"></i>
	        </div>
	      </div>
	    </div>
	  </div>
	</div>

		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-danger shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-danger text-uppercase mb-1">
								Pacientes Eliminados</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{patientDelete}}</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-user-minus fa-2x text-danger"></i>
						</div>
					</div>
				</div>
			</div>
		</div>


</div>

<div class="row">

	<!-- Earnings (Monthly) Card Example -->
	<div class="col-xl-3 col-md-6 mb-4">
		<div class="card border-left-{{request.session.bt_color}} shadow h-100 py-2">
			<div class="card-body">
				<div class="row no-gutters align-items-center">
					<div class="col mr-2">
						<div class="text-xs font-weight-bold text-{{request.session.bt_color}} text-uppercase mb-1">Usuarios conectados</div>
						<div class="h5 mb-0 font-weight-bold text-gray-800">{{loggedUsers}}</div>
					</div>
					<div class="col-auto">
						<i class="fas fa-users fa-2x text-{{request.session.bt_color}}"></i>
					</div>
				</div>
			</div>
		</div>
	</div>

		<!-- Earnings (Monthly) Card Example -->
		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-success shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-success text-uppercase mb-1">% Activos</div>
							<div class="row no-gutters align-items-center">
								<div class="col-auto">
									<div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{percentActive}}%</div>
								</div>
								<div class="col">
									<div class="progress progress mr-2">
										<div class="progress-bar bg-success" role="progressbar"
											style="width: {{percentActive|floatformat:'0'}}%" aria-valuenow="50"
											aria-valuemin="0" aria-valuemax="100"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-stethoscope fa-2x text-success"></i>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Earnings (Monthly) Card Example -->
		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-warning shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-warning text-uppercase mb-1">% Inactivos</div>
							<div class="row no-gutters align-items-center">
								<div class="col-auto">
									<div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{percentInactive}}%</div>
								</div>
								<div class="col">
									<div class="progress progress mr-2">
										<div class="progress-bar bg-warning" role="progressbar"
											style="width: {{percentInactive|floatformat:'0'}}%" aria-valuenow="50"
											aria-valuemin="0" aria-valuemax="100"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-user-times fa-2x text-warning"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

				<div class="col-xl-3 col-md-6 mb-4">
					<div class="card border-left-danger shadow h-100 py-2">
						<div class="card-body">
							<div class="row no-gutters align-items-center">
								<div class="col mr-2">
									<div class="text-xs font-weight-bold text-danger text-uppercase mb-1">% Eliminados</div>
									<div class="row no-gutters align-items-center">
										<div class="col-auto">
											<div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{porcentajeEliminados}}%</div>
										</div>
										<div class="col">
											<div class="progress progress mr-2">
												<div class="progress-bar bg-danger" role="progressbar"
													style="width: {{porcentajeEliminados|floatformat:'0'}}%" aria-valuenow="50"
													aria-valuemin="0" aria-valuemax="100"></div>
											</div>
										</div>
									</div>
								</div>
								<div class="col-auto">
									<i class="fas fa-user-minus fa-2x text-danger"></i>
								</div>
							</div>
						</div>
					</div>
				</div>

</div>

<div class="row">
		<!-- Earnings (Monthly) Card Example -->
		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-{{request.session.bt_color}} shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-{{request.session.bt_color}} text-uppercase mb-1">
								Archivos subidos</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{rowsFile}}</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-file-upload fa-2x text-{{request.session.bt_color}}"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-{{request.session.bt_color}} shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-{{request.session.bt_color}} text-uppercase mb-1">
								Total MB subidos</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{request.session.used_disk_up}} Mb</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-upload fa-2x text-{{request.session.bt_color}}"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-{{request.session.bt_color}} shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-{{request.session.bt_color}} text-uppercase mb-1">
								Tareas realizadas</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{taskEje}}</div>
						</div>
						<div class="col-auto">
							<i class="fa fa-cogs fa-2x text-{{request.session.bt_color}}"></i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-xl-3 col-md-6 mb-4">
			<div class="card border-left-{{request.session.bt_color}} shadow h-100 py-2">
				<div class="card-body">
					<div class="row no-gutters align-items-center">
						<div class="col mr-2">
							<div class="text-xs font-weight-bold text-{{request.session.bt_color}} text-uppercase mb-1">
								Recetas enviadas</div>
							<div class="h5 mb-0 font-weight-bold text-gray-800">{{recipeSend}}</div>
						</div>
						<div class="col-auto">
							<i class="fas fa-envelope fa-2x text-{{request.session.bt_color}}"></i>
						</div>
					</div>
				</div>
			</div>
		</div>
</div>

<div class="row">
<!-- Content Column -->
	<div class="col-lg-6 mb-4">
	  <!-- Project Card Example -->
	  <div class="card shadow mb-4">
			<a href="#collapseCardBarra" class="d-block card-header py-3" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="collapseCardExample">
		  		<h6 class="m-0 font-weight-bold text-primary">Información de almacenamiento del equipo</h6>
			</a>
		<div class="collapse show" id="collapseCardBarra">
			<div class="card-body">
			<h4 class="small font-weight-bold">Espacio usado ({{request.session.used_disk_gb}} Gb) <span class="float-right">{{request.session.used_disk|floatformat:'0'}}%</span></h4>
			<div class="progress mb-4">
				<div class="progress-bar bg-danger" role="progressbar" style="width: {{request.session.used_disk|floatformat:'0'}}%" aria-valuenow="{{request.session.used_disk|floatformat:'0'}}" aria-valuemin="0" aria-valuemax="100"></div>
			</div>
			<h4 class="small font-weight-bold">Espacio libre ({{request.session.free_disk_gb}} Gb) <span class="float-right">{{request.session.free_disk|floatformat:'0'}}%</span></h4>
			<div class="progress mb-4">
				<div class="progress-bar bg-primary" role="progressbar" style="width: {{request.session.free_disk|floatformat:'0'}}%" aria-valuenow="{{request.session.free_disk|floatformat:'0'}}" aria-valuemin="0" aria-valuemax="100"></div>
			</div>	      
			<h4 class="small font-weight-bold">Espacio total ({{request.session.total_disk_gb}} Gb) <span class="float-right">100%</span></h4>
			<div class="progress mb-4">
				<div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
			</div>
			</div>
			</div>
	  </div>

	  <!-- Color System -->
	  <!-- div class="row">
	    <div class="col-lg-6 mb-4">
	      <div class="card bg-primary text-white shadow">
	        <div class="card-body">
	          Primary
	          <div class="text-white-50 small">#4e73df</div>
	        </div>
	      </div>
	    </div>
	    <div class="col-lg-6 mb-4">
	      <div class="card bg-success text-white shadow">
	        <div class="card-body">
	          Success
	          <div class="text-white-50 small">#1cc88a</div>
	        </div>
	      </div>
	    </div>
	    <div class="col-lg-6 mb-4">
	      <div class="card bg-info text-white shadow">
	        <div class="card-body">
	          Info
	          <div class="text-white-50 small">#36b9cc</div>
	        </div>
	      </div>
	    </div>
	    <div class="col-lg-6 mb-4">
	      <div class="card bg-warning text-white shadow">
	        <div class="card-body">
	          Warning
	          <div class="text-white-50 small">#f6c23e</div>
	        </div>
	      </div>
	    </div>
	    <div class="col-lg-6 mb-4">
	      <div class="card bg-danger text-white shadow">
	        <div class="card-body">
	          Danger
	          <div class="text-white-50 small">#e74a3b</div>
	        </div>
	      </div>
	    </div>
	    <div class="col-lg-6 mb-4">
	      <div class="card bg-secondary text-white shadow">
	        <div class="card-body">
	          Secondary
	          <div class="text-white-50 small">#858796</div>
	        </div>
	      </div>
	    </div>
	    <div class="col-lg-6 mb-4">
	      <div class="card bg-light text-black shadow">
	        <div class="card-body">
	          Light
	          <div class="text-black-50 small">#f8f9fc</div>
	        </div>
	      </div>
	  </div>
	  <div class="col-lg-6 mb-4">
	    <div class="card bg-dark text-white shadow">
	      <div class="card-body">
	          Dark
	          <div class="text-white-50 small">#5a5c69</div>
	      </div>
	    </div>
	  </div>
	</div-->
	</div>

	<div class="col-lg-6 mb-4">
	  <!-- Approach -->
	  <div class="card shadow mb-4">	    
		<a href="#collapseCardExample" class="d-block card-header py-3" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="collapseCardExample">
		  	<h6 class="m-0 font-weight-bold text-primary">Lista de tareas realizadas (Hoy)</h6>
		</a>		
		<div class="collapse" id="collapseCardExample">
			<div class="card-body">

					{% if listadoTareasHome %}
					<div class="card shadow mb-4">
						<div class="card-header py-3 bg-gray-200">
							<h6 class="m-0 font-weight-bold text-{{request.session.bt_color}}">
								<div class="col-sm-12">
									<center></center>
								</div>
							</h6>
						</div>
						<div class="card-body bg-gray-200">
							<div class="table-responsive">
								<table class="table table-striped table-hover webtooth" id="dataTableTaskHome" width="100%" cellspacing="0">
									<thead class="bg-gradient-light">
										<tr style="text-align: center;">
											<th>Nº</th>
											<th>Nombre</th>											
											<th>Fecha ejecuci&oacute;n</th>
											<th>Estado</th>
										</tr>
									</thead>
									<tfoot>
									</tfoot>
									<tbody>
										{% for item in listadoTareasHome %}
										<tr>
											<td style="text-align: center;"><b><a href="{% url 'buscarTaskId' item.id %}" class="text-{{request.session.bt_color}}">{{item.id}}</a></b></td>
											<td style="width: 150px;">{{item.nameTask}}</td>											
											<td style="text-align: center;">{{item.dateExecute}}</td>																																	
											<td style="text-align: center;"><span class="btn btn-success btn-sm" style="font-size: 10px;"> Ejecutado </span></td>
										</tr>
										{% endfor %}
									</tbody>
								</table>
							</div>
						</div>
					</div>
					{% else %}
					<div>
						<h6 style="text-align: center;" class="m-0 font-weight-bold"> <i class="fas fa-info-circle"></i> No hay ningún
							registro en la base de datos actual</h6>
					</div>
					{% endif %}
					
			</div>
		</div>
	  </div>
	</div>

</div>
{% endblock %}